<?xml version="1.0" encoding="UTF-8"?>
		<!DOCTYPE mapper
		    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssy.test.bankBook.BankBookCommentDAO">

	<insert id="setCommentAdd" parameterType="BankBookCommentDTO">
		insert into BB_Comment(NUM, BOOKNUM, WRITER, CONTENTS, REGDATE) values (BOARD_SEQ.NEXTVAL,#{bookNum},#{writer}, #{contents}, sysdate)
	</insert>
	
	<select id="getCommemtList" parameterType="CommentPager">
		SELECT * FROM
    		(SELECT RONUM R, C.* FROM
        		(SELECT * FROM BB_COMMENT
        		WHERE BOOKNUM=#{bookNum} ORDER BY NUM DESC) C)
    		WHERE R BETWEEN #{statNum} AND {lastNum} ;    
	</select>

</mapper>